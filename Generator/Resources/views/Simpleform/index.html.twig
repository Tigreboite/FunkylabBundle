{% extends 'TigreboiteFunkylabBundle::layout.html.twig' %}

{% block content -%}
    <div class="modal-body ">
        <div class="row">
            <form method="post" action="{% if form.vars.method == "PUT" %}{{ path('%admin_entity_path%_update',{'id':entity.id}) }}{% else %}{{ path('%admin_entity_path%_create') }}{% endif %}" role="form" enctype="multipart/form-data">

                {% if form.vars.method == "PUT" %}
                    <input type="hidden" name="_method" value="PUT">
                {% endif %}

                <div class="box box-primary">
                    <div class="box-body">
                        %editable_fields%
                    </div>
                    {{ form_widget(form._token) }}
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success btn-lg pull-left"><i class="fa fa-check"></i> Submit</button>
                    <button type="button" class="btn btn-default  btn-lg" data-dismiss="modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function()
        {

            $('.date').datepicker({
                buttonImageOnly: true,
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                yearRange: "-1:+2"
            });

            $('.wysiwyg').editable({
                inlineMode: false,
                buttons: ["bold", "italic", "underline", "formatBlock", "sep", "insertUnorderedList", "sep", "createLink", "insertImage", "insertVideo", "sep", "undo", "redo", "html"],
                imagesLoadURL:Routing.generate('admin_media_list')+"?dir=page",
                imageDeleteURL:Routing.generate('admin_media_delete')+"?dir=page",
                blockTags: {
                    n: 'Normal',
                    h2: 'Heading 2',
                    h3: 'Heading 3',
                    h4: 'Heading 4'
                },
                defaultImageAlignment: "left",
                defaultVideoAlignment: "left",
                imageUploadURL: Routing.generate('upload_image_wysiwyg'),
                imageUploadParams: {id: "my_editor"}
            });

            %javascript%
        });
    </script>
{% endblock %}
